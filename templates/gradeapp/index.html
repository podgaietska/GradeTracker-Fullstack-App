{% extends "base.html" %}

{% block content %}

{% include 'partials/_messages.html' %}
<h4>My Dashboard</h4>
{% if courses.count %}
<div class="course-list-container">
    <ul class="course-list">
        {% for course in courses %}
        <div class="course-list-item">
            <div class="class-identifier"></div>
            <a href="{% url 'course-home' course.id %}" class="course">{{course.code}}</a>
        </div>
        {% endfor %}
    </ul>
</div>
{% endif %}
<div class="grid-container">
    <div class="to-do-list-container grid-box">
        <div class="view-window">
            <div class="view-window-header">
                <h6>TO DO LIST</h6>
                <button class="add-todo-item-btn">Add Item</button>
            </div>
            <div class="view-window-body">
                <div class="todo-item">
                    <div class="checkbox">
                        <input type="checkbox" id="checkbox">
                        <label for="checkbox"></label>
                    </div>
                    <div class="todo-name">
                        <h6>Finish Resume</h6>
                        <span>Feb 12 by 2pm</span>
                    </div>
                </div>
                <div class="todo-item">
                    <div class="checkbox">
                        <input type="checkbox" id="checkbox">
                        <label for="checkbox"></label>
                    </div>
                    <div class="todo-name">
                        <h6>Email prof about lab grade</h6>
                        <span>Feb 10</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="upcoming-deadlines-container grid-box">
    {% include 'partials/_deadlines.html' %}
    </div>
    {% if courses.count %}
    <div class="grades-container grid-box">
        <div class="view-window">
            <div class="view-window-header">
                <h6>GRADES - QUICK GLANCE</h6>
                <span>View more</span>
            </div>
            <div class="view-window-body">
                {% for course in courses %}
                <div class="course-grade-row">
                    <div class="course-code">
                        <h6>{{course.code}}</h6>
                    </div>
                    <div class="course-grade-breakdown">
                        <p>Gained:</p>
                        <p><span id="gained">{% if course.total_grade_gained == 0 %}0{% else %}{{course.total_grade_gained|floatformat:3}}{% endif %}</span>/{% if course.total_grade_possible == 0 %}0{% else %}{{course.total_grade_possible|floatformat:3}}{% endif %}</p>
                    </div>
                    <div class="course-grade-breakdown">
                        <p>Losing:</p>
                        <p><span id="losing">{% if course.total_grade_lost == 0 %}0{% else %}{{course.total_grade_lost|floatformat:3}}{% endif %}</span>/100</p>
                    </div>
                    <div class="course-estimate">
                        <p>Current grade:</p>
                        <p>{{course.grade}}</p>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
    {% endif %}
    <div class="gpa-estimator-container grid-box"></div>
</div>


{% endblock %}